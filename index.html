
<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Document</title>
</head>
<body>
<a href="#" onclick="PrintImage(''); return false;">PRINT</a>
    <label for="cameraFileInput">
      <span class="btn">Open camera</span>

      <!-- The hidden file `input` for opening the native camera -->
      <input
        id="cameraFileInput"
        type="file"
        accept="image/*"
        capture="environment"
      />
    </label>

<div id="output"></div>
<script>
      function ImagetoPrint(source)
    {
        return "<html><head><scri"+"pt>function step1(){\n" +
                "setTimeout('step2()', 10);}\n" +
                "function step2(){window.print();window.close()}\n" +
                "</scri" + "pt></head><body onload='step1()'>\n" +
                "<img src='" + source + "' /></body></html>";
    }

    function PrintImage()
    {
        var Pagelink = document.getElementById("output").innerHTML;

       var pwa = window.open(Pagelink, "_new");
        pwa.document.open();
        pwa.document.write(ImagetoPrint(document.getElementById("output").innerHTML));
        pwa.document.close();
    }    
    
showResult();
function showResult() {
const inputEl = document.getElementById('cameraFileInput');
inputEl.addEventListener('change' , () => {
const file = inputEl.files[0]; 
const fr = new FileReader();
fr.readAsDataURL(file);
fr.addEventListener('load', () => {
const url = fr.result
const img = new Image();
img.src = url;
    document.getElementById('output').append(fr.result);
return fr.result;

//document.getElementById('output').appendChild(img);
})
})
}
    
</script>

</body>
</html>